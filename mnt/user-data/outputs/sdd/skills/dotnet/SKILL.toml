# Auto-generated from skills/dotnet/SKILL.md
# Run 'make generate' to rebuild — do not edit manually

[skill]
name        = "dotnet"
description = "Use this skill for any .NET task — APIs, services, repositories, config, tests, or refactoring. Targets .NET 8/9 with C# 12+, ASP.NET Core, and EF Core."
stack       = "dotnet"
source      = "skills/dotnet/SKILL.md"

[[skill.naming]]
  [[skill.naming]]
  artifact   = "Command"
  convention = "`{Action}{Resource}Command`"
  example    = "CreateOrderCommand"
  [[skill.naming]]
  artifact   = "Command Handler"
  convention = "`{Action}{Resource}CommandHandler`"
  example    = "CreateOrderCommandHandler"
  [[skill.naming]]
  artifact   = "Query"
  convention = "`Get{Resource}Query`"
  example    = "GetOrderByIdQuery"
  [[skill.naming]]
  artifact   = "Query Handler"
  convention = "`Get{Resource}QueryHandler`"
  example    = "GetOrderByIdQueryHandler"
  [[skill.naming]]
  artifact   = "Validator"
  convention = "`{Command/Query}Validator`"
  example    = "CreateOrderCommandValidator"
  [[skill.naming]]
  artifact   = "Repository interface"
  convention = "`I{Resource}Repository`"
  example    = "IOrderRepository"
  [[skill.naming]]
  artifact   = "EF Repository"
  convention = "`{Resource}Repository`"
  example    = "OrderRepository"
  [[skill.naming]]
  artifact   = "DTO (response)"
  convention = "`{Resource}Response`"
  example    = "OrderResponse"
  [[skill.naming]]
  artifact   = "Exception"
  convention = "`{Resource}NotFoundException`"
  example    = "OrderNotFoundException"

[skill.antipatterns]
rules = [
  "Business logic in controllers",
  "DbContext injected directly in controllers or application handlers — use repositories",
  "var result = repo.GetAll().ToList() — always use async: await repo.GetAllAsync(ct)",
  "Returning domain entities from API — always use response DTOs",
  "DateTime.Now — always use DateTime.UtcNow",
  "Catching Exception silently — log and rethrow or convert to domain exception",
  "Public setters on domain entities",
  "IEnumerable<T> in domain — use IReadOnlyList<T> to signal immutability",
]

[skill.testing]
rules = [
  "Unit tests: xUnit + NSubstitute (no integration, no EF)",
  "Integration tests: WebApplicationFactory + Testcontainers",
  "Minimum coverage: 80% on Application and Domain layers",
]
